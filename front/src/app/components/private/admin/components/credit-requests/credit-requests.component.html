<div class="container mt-5">
  <div class="row mb-3">
    <div class="col">
      <h2 class="text-center">Solicitudes de credito</h2>
      <!-- <input type="text" placeholder="Buscar" [(ngModel)]="searchQuery" (ngModelChange)="onSearch()" class="form-control"> -->
    </div>
  </div>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Id</th>
        <th>Número de Documento</th>
        <th>Monto Solicitado</th>
        <th>Plazo Quincenal</th>
        <th>Valor Cuota Quincenal</th>
        <th>Linea de Crédito</th>
        <th>Reestructurado</th>
        <th>Periocidad de Pago</th>
        <th>Tasa de Interés</th>
        <th>Fecha de Solicitud</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let request of creditRequests">
        <td>{{ request.id }}</td>
        <td>{{ request.numeroDocumento }}</td>
        <td>{{ request.montoSolicitado }}</td>
        <td>{{ request.plazoQuincenal }}</td>
        <td>{{ request.valorCuotaQuincenal }}</td>
        <td>{{ request.idLineaCredito }}</td>
        <td>{{ request.reestructurado }}</td>
        <td>{{ request.periocidadPago }}</td>
        <td>{{ request.tasaInteres }}</td>
        <td>{{ request.fechaSolicitud | date:'dd/MM/yyyy' }}</td>
        <td>
          <app-generate-credit-request 
            [montoSolicitado]="request.montoSolicitado"
            [plazoQuincenal]="request.plazoQuincenal"
            [valorCuotaQuincenal]="request.valorCuotaQuincenal"
            [fechaSolicitud]="request.fechaSolicitud"
            [lineaCredito]="request.idLineaCredito"
            [reestructurado]="request.reestructurado"
            [periocidadPago]="request.periocidadPago"
            [tasaInteres]="request.tasaInteres"
            [userId]="request.idUsuario"
          ></app-generate-credit-request>
        </td>
      </tr>
    </tbody>
  </table>

  <nav aria-label="Page navigation example" *ngIf="totalRecords > rows">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="onPageChange(currentPage - 1)" aria-label="Previous" style="cursor: pointer;">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item" *ngFor="let page of pages" [class.active]="currentPage === page">
        <a class="page-link" (click)="onPageChange(page)" style="cursor: pointer;">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link" (click)="onPageChange(currentPage + 1)" aria-label="Next" style="cursor: pointer;">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
